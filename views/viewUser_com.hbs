{{> header_nav}}

<div class="UserPageFormat">
  <div class="UserPost">
    <div class="ProfileViewTab">
      <a href="/viewUserProfile?currentUser={{user.username}}" class="PostsButton">
        <div class="ProfileView">Posts</div>
      </a>
      <a href="/viewUser_Com" class="CommentButton">
        <div class="ProfileView">Comments</div>
      </a>
    </div>

    {{#each comment}}
    <div class="PostCont">
      <br>
      <div class="PostDate">{{createdAt}}</div>
      <div class="PostTitle">{{text}}</div>
      <div class="CommentButtons">
        <div class="editComButton">
          <a href="edit_comments?text={{text}}" class="button-link">
            <button type="button" class="EditComPostButton">Edit</button>
          </a>
        </div>
        <div class="delComButton">
          <form action="/delete-comment" method="POST" onsubmit="return confirm('Are you sure you want to delete this comment?');">
            <input type="hidden" name="commentId" value="{{_id}}">
            <button type="submit" class="DelComPostButton">Delete</button>
          </form>
        </div>
      </div>
    </div>
    {{/each}}
  </div>

  <div class="UserProfile">
    <div class="ProfilePicture">
      <img src={{user.image}}>
    </div>
    <div class="UserNameCont">
      <div class="UserName">
        {{user.username}}
      </div>
    </div>
    <div class="UserButtonsCont">
      <a href="edit_profile">
        <button class="EditButton">Edit</button>
      </a>
      <form action="/delete_profile" method="POST" onsubmit="return confirm('Are you sure you want to delete this profile?');">
          <input type="hidden" name="User1" value="{{user.username}}">
          <button type="submit" class="EditButton">Delete</button>
      </form>
    </div>
    <div class="ExtraInfoCont">
      <div class="PostNo">
        <div class="ProfileText">1</div>
        <div class="SmallerProfileText">No. of Posts</div>
      </div>
      <div class="CommentNoPostNo">
        <div class="ProfileText">5</div>
        <div class="SmallerProfileText">No. of Comments</div>
      </div>
      <div class="CreationDate">
        <div class="ProfileText">{{user.creation_date}}</div>
        <div class="SmallerProfileText">Creation Date</div>
      </div>
    </div>
  </div>
</div>